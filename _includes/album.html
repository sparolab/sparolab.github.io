<div class="container">
  <!-- Navigation Box 유지 -->
  <div class="box">
      <h2 class="title is-4">Album Categories</h2>
      <ul>
          {% for category in site.data.album.categories %}
              <li><a href="#{{ category.id | slugify }}">{{ category.name }}</a></li>
              {% if category.subcategories %}
                  <ul>
                      {% for subcategory in category.subcategories %}
                          <li><a href="#{{ subcategory.id | slugify }}">{{ subcategory.name }}</a></li>
                      {% endfor %}
                  </ul>
              {% endif %}
          {% endfor %}
      </ul>
  </div>

  <!-- categories Section -->
  {% for category in site.data.album.categories %}
      <h2 class="title is-3" id="{{ category.id | slugify }}">{{ category.name }}</h2>

      <!-- 🔹 세부 카테고리가 존재할 경우 렌더링 -->
      {% if category.subcategories %}
          {% for subcategory in category.subcategories %}
              <h3 class="title is-4" id="{{ subcategory.id | slugify }}">{{ subcategory.name }}</h3>
              <div class="columns is-multiline">
                  {% for item in subcategory.images %}
                      <div class="column is-one-quarter"> 
                          <div class="card">
                              <!-- 이미지 슬라이드 (캐러셀) -->
                              <div class="slideshow-container" data-index="0">
                                  {% for image in item.image_list %}
                                      <div class="slide fade">
                                          <img src="{{ image.link }}" alt="{{ image.alt }}" class="card-image">
                                      </div>
                                  {% endfor %}
                                  {% if item.image_list and item.image_list.size > 1 %}
                                      <a class="prev" onclick="changeSlide(this, -1)">&#10094;</a>
                                      <a class="next" onclick="changeSlide(this, 1)">&#10095;</a>
                                  {% endif %}
                              </div>
                              <div class="card-content">
                                  <p class="title is-6">{{ item.description }}</p>
                                  <p class="subtitle is-6">{{ item.date }}</p>
                              </div>
                          </div>
                      </div>
                  {% endfor %}
              </div>
          {% endfor %}
      {% else %}
          <div class="columns is-multiline">
              {% for item in category.images %}
                  <div class="column is-one-quarter"> 
                      <div class="card">
                          <!-- 이미지 슬라이드 (캐러셀) -->
                          <div class="slideshow-container" data-index="0">
                              {% for image in item.image_list %}
                                  <div class="slide fade">
                                      <img src="{{ image.link }}" alt="{{ image.alt }}" class="card-image">
                                  </div>
                              {% endfor %}
                              {% if item.image_list and item.image_list.size > 1 %}
                                  <a class="prev" onclick="changeSlide(this, -1)">&#10094;</a>
                                  <a class="next" onclick="changeSlide(this, 1)">&#10095;</a>
                              {% endif %}
                          </div>
                          <div class="card-content">
                              <p class="title is-6">{{ item.description }}</p>
                              <p class="subtitle is-6">{{ item.date }}</p>
                          </div>
                      </div>
                  </div>
              {% endfor %}
          </div>
      {% endif %}
  {% endfor %}
</div>
