<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Quatro++: Robust Global Registration Exploiting Ground Segmentation for Loop Closing in LiDAR SLAM">
  <meta name="keywords" content="Quatro, Quatro++, Global registration">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Quatro++: Robust Global Registration Exploiting Ground Segmentation for Loop Closing in LiDAR SLAM</title>

  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>

<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://limhyungtae.github.io/aboutme/">
      <span class="icon">
          <i class="fas fa-home"></i>
      </span>
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          Relevant Research
        </a>
        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://github.com/MIT-SPARK/TEASER-plusplus">
            TEASER++ (includes Quatro)
          </a>
          <a class="navbar-item" href="https://github.com/url-kaist/Quatro">
            Quatro (PCL version)
          </a>
          <a class="navbar-item" href="https://github.com/LimHyungTae/patchwork">
            Patchwork
          </a>
        </div>
      </div>
    </div>

  </div>
</nav>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Quatro++: Robust Global Registration Exploiting Ground Segmentation for Loop Closing in LiDAR SLAM</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://limhyungtae.github.io/aboutme">Hyungtae Lim</a><sup>1</sup>,</span>
            <span class="author-block">
              <a href="https://github.com/kimbeomso">Beomsoo Kim</a><sup>1</sup>,</span>
            <span class="author-block">
              <a href="https://github.com/kimdaebeom/">Daebeom Kim</a><sup>1</sup>,
            </span>
            <span class="author-block">
              <a href="https://github.com/engcang/">Eungchang Mason Lee</a><sup>1</sup>,
            </span>
            <span class="author-block">
              and <a href="https://urobot.kaist.ac.kr/url_teams/prof-hyunmyung/">Hyun Myung</a><sup>1</sup>,
            </span>            
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block"><sup>1</sup>Korea Advanced Institute of Science & Technology (KAIST),</span>            
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="https://journals.sagepub.com/doi/full/10.1177/02783649231207654"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://ieeexplore.ieee.org/document/9812018"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Conf. Version Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://arxiv.org/abs/2311.00928"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <!-- Video Link. -->
              <span class="link-block">
                <a href="https://youtu.be/TZJjQ1AWPZA?si=1PdQJjumTB9-YzNP"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-youtube"></i>
                  </span>
                  <span>Video (TBU)</span>
                </a>
              </span>
              <!-- Code Link. -->
              <span class="link-block">
                <a href="https://github.com/url-kaist/Quatro"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code (TBU)</span>
                  </a>
              </span>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <div class="video-container">
        <video id="teaser" autoplay muted loop playsinline class="full-video">
          <source src="./static/videos/quatro-plusplus_title_video.mp4"
          type="video/mp4">
        </video>
      </div>
      <h2 class="subtitle has-text-centered">
        <span class="dnerf">TL;DR Quatro++: Quatro w/ ground segmentation achieves robust registration performance <br> when two point clouds with large discrepancy of viewpoints are given!</span>
      </h2>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Global registration is a fundamental task that estimates the relative pose between two viewpoints of 3D point clouds.
            However, there are two issues that degrade the performance of global registration in LiDAR SLAM: one is the sparsity issue and the other is degeneracy. The sparsity issue is caused by the sparse characteristics of the 3D point cloud
            measurements in a mechanically spinning LiDAR sensor. The degeneracy issue sometimes occurs because the outlier-rejection methods reject too many correspondences, leaving less than three inliers. These two issues have become
            more severe as the pose discrepancy between the two viewpoints of 3D point clouds becomes greater. 
            To tackle these problems, we propose a robust global registration framework, called Quatro++. 
            Extending our previous work that solely focused on the global registration itself, we address the robust global registration in terms of the loop closing in LiDAR SLAM. 
            To this end, ground segmentation is exploited to achieve robust global registration. 
            Through the experiments, we demonstrate that our proposed method shows a higher success rate than the state-of-the-art global registration methods, overcoming the sparsity and degeneracy issues. 
            In addition, we show that ground segmentation significantly helps to increase the success rate for ground vehicles. 
            Finally, we apply our proposed method to the loop closing module in LiDAR SLAM and confirm that the quality of the loop constraints is improved, showing more precise mapping results. 
            Therefore, the experimental evidence corroborated the suitability of our method as an initial alignment in the loop closing. 
            Our code will be made available on publication.
          </p>
        </div>
      </div>
    </div>
    <!--/ Abstract. -->
   
<section class="section">
  <div class="container is-max-desktop">
    <!-- Introduction. -->
    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3" id="intro">Why Quatro++?</h2>
        <div class="content has-text-justified">
          <p>
            The ultimate goal of our approach is to <strong><em>achieve robust global registration even though the quality of feature matching is degraded</em></strong>.
            Of course, just as in the current research direction, improving the performance of feature matching and descriptors naturally enhances the performance of registration (and in this case, RANSAC still works very well).
            However, we want to propose a method that can robustly handle registration even in situations where the performance of feature extraction and matching is undesirably compromised.
            To this end, we propose a simple yet powerful approach, which consists of a) <a href="https://github.com/LimHyungTae/patchwork">ground segmentation</a> and b) <a href="https://arxiv.org/abs/2203.06612v1">Quatro</a>.
          </p>
          <img src="./static/images/Fig1.png">
          <p>
            One may argue that Quatro++ is just the combination of ground segmentation and Quatro.
            It's true, but please kindly note that what we aim for is to solve a difficult problem with ease using this simple combination of two approaches; and it successfully shows significant performance.
            In particular, it has been remarkable that our Quatro++ consistently succeeds even when two point clouds with large discrepancies of viewpoints are given, as can be seen in the video below:
          </p>
          <div class="video-container">
            <video id="howitworks" autoplay controls muted loop playsinline class="full-video">
            <source src="./static/videos/quatro-plusplus_explanation.mp4"
                    type="video/mp4">
            </video>
          </div>
        </div>
        <h2 class="title is-3" id="probdef">Problem Definition: Challenge of 3D Point Cloud Registration in Distant and Partially Overlapped Cases</h2>
        <div class="content has-text-justified">
          <p>
            Unlike object-level point cloud data whose points are evenly distributed, or indoor datasets acquired by RGB-D sensors,
            a 3D point cloud captured by a spinning LiDAR sensor has somewhat different characteristics.
            That is, as the distance from the origin of a point cloud becomes longer, the density dramatically decreases,
            which is referred to as <strong><em>sparsity issue</em></strong> (for more details, I recommend reading my previous papers: <a href="https://arxiv.org/abs/2108.05560">Patchwork</a> and <a href="https://arxiv.org/abs/2203.06612v1">Quatro</a>).
            The sparsity issue directly has a negative impact on the quality of feature descriptors and thus induces false matching results.
          </p>
          <p>
            To be more concrete, most feature descriptor methods, including deep learning-based methods,
            utilize the geometrical inter-relations between each point and its neighboring points to generate descriptors.
            However, as the density becomes sparse, these neighboring points are insufficient to describe the actual geometrical inter-relations
            because the distance between the two points becomes large. As a result, the expressibility of descriptors becomes worse.
            Finally, if these degraded descriptors are taken as the inputs of descriptor matching, it will deteriorate the matching performance,
            reducing the number of actual inliers while increasing the ratio of outliers, as shown in the figure below:
          </p>
          <p>
            <strong>One sentence summary: As the actual pose discrepancy between two viewpoints of point clouds, the number of actual inliers reduces while the ratio of outliers inevitably increases.</strong>
          </p>
          <img src="./static/images/Fig2.png">
        </div>

        <div class="content has-text-justified">
        <h2 class="title is-3" id="limitation">Four Takeaway Messages of Our Paper</h2>
        <div class="content has-text-justified">
          <p>
          <h2 class="title is-5" id="robustness">1. Robustness of Quatro++ Against Large Pose Discrepancy and Partial Overlap</h2>
            First, we demonstrate that Quatro++ becomes more robust in distant cases.
            For instance, when the difference in viewpoints between the source and target clouds ranges between 10 to 12 m in the KITTI dataset,
            our Quatro++ showed a substantial performance increase compared with the state-of-the-art methods, as shown in the figure below. Not only that, but there are also more results in our manuscript.
          </p>
          <img src="static/images/succeeded_registration.png">
          <p><em>Examples of registration results. Green boxes indicate that our approaches only succeeded when two point clouds with large discrepancies of viewpoints were given</em></p>
          <p>
          <h2 class="title is-5" id="applicability">2. Applicability as a Loop Closing Module</h2>
            Second, as an extension of the first message, we investigated the impact of Quatro++ to the LiDAR SLAM as a part of loop closing module.
            Even now, most LiDAR SLAM methods heavily rely on ICP or G-ICP to estimate the relative pose of the loop candidate.
            Under this circumstance, our proposed method can be utilized as a coarse alignment to provide an initial guess,
            helping these local registration methods to successfully estimate the relative pose.
            That is, because the performance of Quatro++ is less affected by the initial pose difference,
            our global registration can initially transform the source cloud to the region where the estimate of local registration can converge into the global minimum.
          </p>
          <p>
            As explained earlier, our proposed method showed more robust performance against these ambiguous scenes and reverse cases by leveraging ground segmentation. Accordingly, even
            though distant or reversed loop pairs are given by the loop detection module, our proposed method can successfully estimate the relative pose in a coarse manner. Consequently,
            the local registration method, which follows the global registration, can estimate the correct relative pose as a fine alignment.
            Consequently, our Quatro++ significantly makes the quality of mapping better, particularly in large-scale environments,
            presenting tightly aligned mapping results and fewer false loops.
          </p>
          <div class="video-container">
            <video id="slam_demo" autoplay controls muted loop playsinline class="full-video">
              <source src="./static/videos/quatro-plusplus_slam_demo.mp4"
              type="video/mp4">
            </video>
          </div>
          <img src="static/images/Fig20_DCC01_comparison.png">
          <p><em>(T-B): Point cloud mapping results and the corresponding loop constraints in DCC01 of the MulRan dataset. (a) The original LeGO-LOAM.
              (b) LeGO-LOAM with ScanContext as a loop detection. (c) LeGO-LOAM with both TEASER++ and ScanContext, named as TSC-LeGO-LOAM.
              (d) LeGO-LOAM with both Quatro++ and ScanContext, named as QSC-LeGO-LOAM, showing a tightly aligned mapping result and fewer false loops.
              The green lines denote the true positive loop constraints and red lines denote the false positive loop constraints (best viewed in color).</em></p>

          <p>
          <h2 class="title is-5" id="groundseg">3. Quantitative Analysis of the Impact of Ground Segmentation on Point Cloud Registration</h2>
            Third, we quantitatively present exploiting ground segmentation enables global registration to robustly estimate the relative pose between the two point clouds whose pose discrepancy is large.
            Empirically, while other researchers empirically use ground segmentation to improve the performance of their own tasks (e.g. <a href="https://github.com/robot-learning-freiburg/LCDNet#optional-ground-plane-removal">LCDNet</a>),
            they seldom provide any in-depth analyses of the impact of ground segmentation on global registration.
            Thus, we conducted thorough analyses and particularly validated the potential of synergy between our Quatro and ground segmentation.
          </p>
            <img src="static/images/tab_effect_of_ground_segmentation.png">
          <p>
            <h2 class="title is-5" id="notpnancea">4. Deep Learning-Based Approaches Are Not Panacea: From the Generalization Perspective</h2>
            Note that our proposed method is a <em>learning-free</em> approach; thus, our approach could be directly exploited to own environments.
            In particular, we focused on the limited generalization capabilities of deep learning-based approaches and
            we observed that the performance of deep learning-based methods was more significantly degraded than our approach when the surroundings or sensor configuration was different from the training data.
            We tested LCDNet which is trained using the KITTI dataset (captured by Velodyne HDL-64E) on the MulRan dataset (captured by Ouster OS1-64).
            The results are shown in the table below, which supports our claim that our approach is more suitable for loop closing and applicable to various environments because our approach does not need any training procedure.
          </p>
          <img src="static/images/tab_kitti2mulran.png">
          <p>
            In addition, we tested <a href="https://github.com/lijx10/USIP">USIP</a>,
            which is a learning-based feature extraction method, to run <a href="https://github.com/chenghao-shi/MDGAT-matcher">MDGAT-Matcher</a>, but it completely failed to extract proper feature points.
            Therefore, these issues might be problems to be solved in the robotics community in the future.
          </p>
          <img src="static/images/failure_of_USIP.png">
          <p><em>Visualization of wrong keypoint extraction in MulRan dataset using USIP, which is trained in the
            KITTI dataset and tested in the MulRan dataset. The red points are the extracted keypoints. These experiments
            showed that deep learning-based approaches are relatively hard to be generalized in other datasets.</em></p>
        </div>
      </div>
    </div>
    <!--/ Introduction. -->
  </div>
</section>

<section class="section" id="UseCases">
  <div class="container is-max-desktop content">
    <h2 class="title">Applications (Use Cases)</h2>
    <h4 class="title">1. Loop-closing in SLAM</h4>
    In addition to the previously mentioned <a href="https://github.com/url-kaist/Quatro-LeGO-LOAM">Quatro-Lego-LOAM</a>, we implemented real-time SLAM methods and publicized them to benefit the robotics community: <a href="https://github.com/engcang/FAST-LIO-SAM-QN">FAST-LIO-SAM-QN</a>
     and <a href="https://github.com/engcang/FAST-LIO-SAM-SC-QN">FAST-LIO-SAM-SC-QN</a>. These methods utilize FAST-LIO2 as odometry estimates and Quatro as real-time loop closing module. 
     Quatro robustly estimates the relative pose between two point clouds with large pose discrepancy, where plane ICP methods fail. 
     Furthermore, Quatro is optimized with TBB and the `optimizeMatching` function to achieve real-time performance, while maintaining the robustness and accuracy of the registration.
    <br>
    <br>
    <div class="video-container">
      <video id="fast_lio_sam_qn" autoplay controls muted loop playsinline class="reduced-video">
      <source src="./static/videos/fast_lio_sam_qn.mp4"
              type="video/mp4">
      </video>
    </div>
    <br>
    <br>
    <h4 class="title">2. Map-based matching for localization</h4>
    As Quatro provides robust and accurate global registration, a real-time map-based localization is also implemented and publicized. 
    <a href="https://github.com/engcang/FAST-LIO-localization-qn">Fast-LIO-Localizaiton-QN</a> accurately localizes the robots in the global coordinates by matching the current scan and the saved map.
    This can be efficiently applied to autonomous robots that perform repetitive tasks in designated areas.
    <br>
    <br>
    <div class="video-container">
      <video id="fast_lio_localization" autoplay controls muted loop playsinline class="reduced-video">
      <source src="./static/videos/fast_lio_localization_qn.mp4"
              type="video/mp4">
      </video>
    </div>
  </div>
</section>


<section class="section" id="HowToUse">
  <div class="container is-max-desktop content">
    <h2 class="title">How to use in your packages</h2>
    <h5 class="title">For detailed build steps and code examples of Quatro as a module, please visit <a href="https://github.com/engcang/Quatro">here</a></h2>
    <pre><code class="language-shell">cd ~/your_workspace/src
git clone https://github.com/engcang/Quatro
cd ..
catkin build -DCMAKE_BUILD_TYPE=Release -DQUATRO_TBB=ON</code></pre>
  </div>
</section>


<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code class="language-latex">@article{lim2023quatro-plusplus,
  author    = {Lim, Hyungtae and Kim, Beomsoo and Kim, Daebeom and Lee, Eungchang and Myung, Hyun},
  title     = {Quatro++: Robust Global Registration Exploiting Ground Segmentation for Loop Closing in LiDAR SLAM},
  booktitle = {International Journal of Robotics Research},
  year      = {2023},
}</code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link" href="https://github.com/limhyungtae" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This means you are free to borrow the <a
              href="https://github.com/nerfies/nerfies.github.io">source code</a> of this website,
            we just ask that you link back to this page in the footer.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
